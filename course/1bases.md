# Глава 1: Введение в Pygame

Добро пожаловать в мир создания игр с Pygame! В этой главе мы познакомимся с основами этой мощной библиотеки, необходимыми для начала вашего творческого пути. 

### 1.1 Что такое Pygame?

Pygame - это свободная и открытая библиотека для создания игр, работающая с Python. Она предоставляет набор инструментов, упрощающих разработку различных игр, от простых аркад до сложных RPG. 

### 1.2. Установка Pygame:

Прежде чем мы начнем писать код, необходимо установить Pygame. Самый простой способ сделать это - использовать pip, менеджер пакетов Python:

```
pip install pygame
```

### 1.3. Инициализация Pygame:

Перед запуском любой игры нам нужно инициализировать Pygame. Это делается с помощью функции pygame.init():

```python
import pygame

pygame.init()
```

Эта функция подготавливает все необходимые модули Pygame, такие как графический движок, обработчик событий, звуковой движок и так далее.

### 1.4. Окно игры:

Следующим шагом является создание окна, в котором будет отображаться наша игра. Для этого мы используем функцию pygame.display.set_mode():

```python
screen = pygame.display.set_mode((800, 600))
```

В этом коде мы создаем окно размером 800 пикселей в ширину и 600 пикселей в высоту. Полученный объект screen представляет собой поверхность, на которой мы будем рисовать графику.

### 1.5. Игровой цикл:

Сердцем каждой игры является игровой цикл. Он обеспечивает постоянную работу игры, обрабатывает события, обновляет состояние игры и отображает изменения на экране.

```python
running = True

while running:
  # Обработка событий
  for event in pygame.event.get():
    if event.type == pygame.QUIT:
      running = False

  # Обновление состояния игры

  # Отрисовка графики

  # Обновление экрана
  pygame.display.flip()
```

Этот цикл работает бесконечно, пока переменная running равна True. Внутри цикла мы выполняем следующие действия:

1. Обработка событий: Проверяем, не произошло ли каких-либо событий, например, нажатие клавиши, движение мыши, закрытие окна.
2. Обновление состояния игры: Изменяем состояние игры, например, перемещаем персонажа, проверяем столкновения, обновляем счет.
3. Отрисовка графики: Очищаем экран, рисуем фон, персонажей, объекты и другие элементы игры.
4. Обновление экрана: Перерисовываем весь экран, отображая все изменения, внесенные на предыдущих шагах.

### 1.6. Рисование на экране:

Для рисования графики на экране мы используем функции из модуля pygame.draw:

```python
screen.fill((255, 255, 255)) # Заливка экрана белым цветом
pygame.draw.rect(screen, (255, 0, 0), (100, 100, 50, 50)) # Рисование красного прямоугольника
pygame.draw.circle(screen, (0, 0, 255), (400, 300), 50) # Рисование синего круга

* screen.fill(): Заполняет экран заданным цветом.
• pygame.draw.rect(): Рисует прямоугольник.
• pygame.draw.circle(): Рисует круг.
```

### 1.7. Цвет:

В Pygame цвет задается кортежем из трех чисел: (красный, зеленый, синий) в диапазоне от 0 до 255. Например, (255, 0, 0) соответствует красному цвету, (0, 255, 0) - зеленому, (0, 0, 255) - синему.

### 1.8. Обработка событий:

В Pygame события - это действия, которые происходят во время игры. Например:

• pygame.QUIT: Пользователь закрыл окно.
• pygame.KEYDOWN: Пользователь нажал клавишу.
• pygame.KEYUP: Пользователь отпустил клавишу.
• pygame.MOUSEBUTTONDOWN: Пользователь нажал кнопку мыши.
• pygame.MOUSEBUTTONUP: Пользователь отпустил кнопку мыши.

Чтобы обрабатывать события, мы используем функцию pygame.event.get(), которая возвращает список всех произошедших событий.

```python
for event in pygame.event.get():
  if event.type == pygame.QUIT:
    running = False
  elif event.type == pygame.KEYDOWN:
    if event.key == pygame.K_LEFT:
      # Обработка нажатия клавиши влево
    elif event.key == pygame.K_RIGHT:
      # Обработка нажатия клавиши вправо
```

### 1.9. Пример простого цикла:

```python
import pygame

pygame.init()
screen = pygame.display.set_mode((800, 600))
pygame.display.set_caption("Моя Первая Игра")

running = True

while running:
  for event in pygame.event.get():
    if event.type == pygame.QUIT:
      running = False

  # Заполняем экран белым цветом
  screen.fill((255, 255, 255)) 

  # Рисуем красный квадрат
  pygame.draw.rect(screen, (255, 0, 0), (100, 100, 50, 50))

  # Обновляем экран
  pygame.display.flip()

pygame.quit()
```

Этот код создает белое окно с красным квадратом в центре. 

### 1.10. Завершение работы:

В конце цикла игры нам нужно закрыть Pygame с помощью функции pygame.quit():

```python
pygame.quit()
```

### Заключение:
В этой главе мы познакомились с базовыми элементами Pygame: инициализацией, созданием окна, обработкой событий, отрисовкой графики. Эти знания помогут вам создавать простые игры и постепенно переходить к более сложным проектам.
